{
  "hash": "13f3e1aac36b86df2c90b930d11ee7bb",
  "result": {
    "markdown": "---\ntitle: \"Git, GitHub & Rstudio [EN]\"\n\n---\n\n```{=html}\n<script type=\"text/javascript\" src=\"https://cdnjs.cloudflare.com/ajax/libs/mermaid/8.6.1/mermaid.min.js\"></script>\n```\n\n<style>\nsvg[id^=\"mermaid-\"] { min-width: 50%; max-width: 100%; }\n</style>\n\n![](../images/github-Rstudio.jpg){width=\"100%\"}\n\n## Module overview\n\nThis module is about the version control system `git`, the cloud service `GitHub` and their use in `RStudio`.\n\n`git` is a version control system that allows the creation of snapshots of files or entire directory trees.\nCombining and comparing such snapshots is also convenient.\n\n`GitHub` is the best-known cloud-based working environment based on `Git` and also offers a variety of web-based tools and services.\n\nRStudio' as a so-called integrated development environment (IDE) is a desktop application that not only offers generic programming support for R/Python, but also supports scientific writing and documentation, data and texts very well. Through the complete integration of 'Pandoc' and 'Tex', it also offers extensive and very convenient support for the creation of documents in the form of texts in all conceivable formats, interactive documents and websites.\n\n### Learning objectives\n\nAt the end of the module you will be able to use `git`, `GitHub` and `Rstudio` efficiently.\nSpecial emphasis will be placed on practical application.\nSpecifically, we will deal with:\n\n- What is version control?\n- What is the difference between `git` and `GitHub`?\n- The central operations, `Pull`, `Status`, `Add`, `Commit`, `Push`.\n- Avoiding and resolving version conflicts\n- Use with `RStudio`\n\n## Git and GitHub made easy\n\n### Learning objectives\n\nIn the sub-module *Git and GitHub made easy* you will learn:\n\n- the concept of version control\n- the areas of application of GitHub and Git\n\n### Prerequisites\n\n- navigate and work with your file manager\n- a basic understanding of file and folder structures\n- set up a [GitHub account](https://github.com/join)\n- installed [`git`](https://git-scm.com/downloads)\n- installed [R] and [RStudio\n\n### Overview\n\nWhat is version control and what is it good for?\nVersion control systems are software tools that help people manage changes to text, source code, scientific analysis or documentation.\n\nIn the event of an error, authors can view the changes and compare them with previous (partial) versions to make corrections while minimising disruption to their own work or the work of team members.\n\nFor example, you have a folder in which you have a project that consists of various files (text, programme code, images, sound files, etc.), and you want to keep track of the changes you have made to these files.\n\nThe software `git` logs all changes to these files.\nHow does it do this?\n\n1\\.\nTell `git` that you want to log a file or directory.\n\n2\\.\nTell `git` that you want to log the state of the file at a certain time.\n\nSo this process is divided into two steps that need to be controlled and triggered.\nIn order to be able to make defined changes, it must be specified what is to be monitored and it must be explicitly confirmed that a defined state is to be saved.\nIn principle, therefore, a snapshot of the file or project must be saved in a confirmed manner, as is known.\n\nThe big difference, however, is that only the changes of this saving process are recorded and can later be restored in these partial steps.\n\n#### Git - First Steps\n\nWhen using Git, the first step is to activate a repository *in* a directory on the local computer.\nThis is done with the command `git init`.\nNow Git knows where to track, but not what to track.\n\n\n```{mermaid}\n%%| fig-cap: initialisation of a repository\n\ngraph LR\n\n    A[Create a <br> new folder] \n    B[Local folder <br> MyFolder] -- git init --> C[Local repository <br> MyFolder]\n    C -.- D(git monitors 'MyFolder'  but knows *no* contents)  \n\n    classDef gr fill:#9f6,stroke:#333,stroke-width:2px\n    classDef bl fill:#6BC9F5,stroke:#333,stroke-width:4px\n    classDef or fill:orange,stroke:#333,stroke-width:1px,stroke-dasharray: 3\n    classDef or2 fill:orange,stroke:#333,stroke-width:3px,stroke-dasharray: 1\n    class A or2\n    class B,C gr\n    class D or\n\n%%{init: {'theme':'forest'}}%%\n\n```\n\n\n\n\nHowever, the changes to files in the project will **only** be applied if `git` is explicitly *\"informed \"* of what is to be done with these files. This is done with the two commands `git add` and `git commit`. The command, `git push` is used when the committed directory snapshot is to be committed to a remote repository (e.g. Github, GitLab).\n\n\n```{mermaid}\n%%| fig-cap: process stage commit push a file\n\ngraph LR\n    Z(Create a <br> new file)\n    \n    A[Local directory ] -- git add 'filename' --> B[File in <br>staging area]\n    B -- git commit --> C[file version in <br>local repository ]\n    C -- git push --> D[file version in <br> remote repository ]\n    \n    AA[Empty folder] -.-> BB(git monitors the file)\n    BB -.-> CC(git backs up local <br> current state of file)\n    CC -.-> DD(git saves remotely <br> current state of the file)\n    \n\n    classDef green fill:#9f6,stroke:#333,stroke-width:2px\n    classDef blue fill:#6BC9F5,stroke:#333,stroke-width:4px\n    classDef orange fill:orange,stroke:#333,stroke-width:1px,stroke-dasharray: 3\n    class A blue\n    class B,C,D green\n    class Z,DD,CC,AA,BB orange\n\n```\n\n\n\n\nWith the command `git status` you get an overview of the status of all files within an initialised repository folder. You should be able to interpret the output of this command:\n\n![git status - conceptual content](../images/64_git-status.PNG){width=\"85%\" height=\"85%\"}\n\n### Good to know\n\n::: {.box .ok}\nIf you want to learn more about Git, you can find more helpful resources here:\n\n- [Pro Git: Chapter **Git Basics**](https://git-scm.com/book/en/v2)\n- [Happy Git with R](https://happygitwithr.com/)\n:::\n\n## Git/GitHub: pull, status, add, commit, push\n\n### Learning objectives\n\nBased on the information from the previous chapter, in this lesson you will learn how to \n\n- create a local repository in a folder\n- make changes to a remote repository\n- manage a local repository\n\n\n### Practical use of git and GitHub\n\nThere are two typical scenarios for using git and GitHub.\n\n1. you haven't started the project yet and want a GitHub repository that you can copy (clone) to your computer as a template and then fill locally with files and directories as you wish.\n2. you have already started the project locally and want to copy it to GitHub.\n\nBoth scenarios are excellently explained by Jenny Bryan. Please read them and follow the instructions. \n\n- Scenario 1: Happy Git With R: Chapter 15 [New Project GitHub](https://happygitwithr.com/new-github-first.html#new-github-first)\n- Scenario 2: Happy Git With R: Chapter 17 [Existing Project, GitHub](https://happygitwithr.com/existing-github-last.html#existing-github-last)\n\n### Typical problems\n\n- You try to run `git commit` after making changes to a file, but you don't track that file(s).\n    Therefore, you need to run `git add` first.\n\n- You are trying to run `git push` to push your updates to the remote repository, but it does not exist.\n\n- You are trying to run `git push` to commit your updates to the remote repository, even though there are already new updates in the remote repository (e.g. from another team member) that you have not yet committed to the local project.\n    The error message you get will look something like this:\n\n::: warning\nError: Your local changes to the following files would be overwritten during the merge: ... Please commit or save your changes before merging.\n:::\n\nSo you're telling your local `git` to add your own changes without taking your teammate's changes into account - a classic loyalty conflict.\nThe best way to avoid this problem is to always do a `git pull` before you start editing locally.\n\n### Good to know\n\n:::: {.box .ok}\nFor a better understanding read the following texts:\n\n- [pull tricky](https://happygitwithr.com/pull-tricky.html).\n- [Git basics](https://git-scm.com/book/en/v2)\n- [Git and R](https://happygitwithr.com/)\n- [Rstudio - git - GitHub](https://happygitwithr.com/rstudio-git-github.html)\n\n::::\n\n### Self-Check\n\n::: { .scbox }\n[![](../images/git-0-self.png)](http://137.248.191.201:3838/de/git/#section-git-in-a-nutshell)\n:::\n\n\n\n\n## Fork and Branches on GitHub\n\n### Learning objectives\n\nIn this lesson you will learn\n\n- What a fork/branch of a GitHub repository is.\n- How to create a branch of a GitHub repository.\n- How to update a GitHub repository from a branch.\n\n### Prerequisites\n\n- Familiarity with GitHub repositories.\n- Git must be installed on your computer.\n- A GitHub account!\n\n### What is a fork/branch?\n\nWhen working in groups on GitHub projects, it gets annoying when one person has to commit all the code to the repository alone.\nThis is where forks and branches come in.\n- With branches, you can take a copy of the current GitHub project and make changes on your own computer.\nOnce you and your group have made changes to the code, you can paste the changes back into your original project group.\n- Branches can also be used if you want to work on one part of a project separately from the other parts.\n- Forks are very similar, except that they are copies or clones of a complete project in a different location.\n\n#### How do I create a branch?\n\nTo create a branch from a GitHub repository, go to the main repository you want to work on and click on the dropdown menu that should say \"main\".\nIt should look like the following image.\n\n![Branch Menu in GitHub](https://docs.github.com/assets/cb-78797/mw-1440/images/help/branches/branch-selection-dropdown.webp){width=\"75%\" height=\"75%\"}\n\nOnce you click on this menu, a text box appears on GitHub saying \"Find or create a branch...\", you enter a new name for the branch, e.g.\n'newbranch1'.\nSince this branch doesn't exist yet, GitHub asks you if you want to create a branch with the name \"newbranch1\".\nClick on \"Create branch: newbranch1\" and the new branch will be created for you, as shown in the following image.\n\n![Create a new branch](https://docs.github.com/assets/cb-54840/mw-1440/images/help/branches/create-branch-text.webp){width=\"40%\" height=\"40%\"}\n\n#### How do you make a pull request?\n\nA pull request allows the owner of the GitHub project to review your changes to make sure they fit into the current repository and don't cause conflicts in your repository.\n\nTo make a pull request from your branch, you must first make a change to your branch repository.\nOnce you have made a change to your branch, a yellow bar will appear on your screen asking you if you want to make a pull request.\nAs you can see in the picture below, there is a green button, and as soon as you click on it, you can create a pull request.\n\n![Initialisation of a pull request](https://uoftcoders.github.io/rcourse/image/git_lesson/yellow_prompt.png){width=\"100%\" height=\"100%\"}\n\nOnce you click on the button, GitHub will inform you if there are any problems merging the branch with the main project.\nIf there are no problems, GitHub will put a tick and show \"Able to merge\".\nYou can then add a title and comment to your pull request to let the repository owner know what you've done.\nOnce you have entered a comment and a title, you can click on \"Create a pull request\".\nOnce you have done this, a notification will be sent to the repository owner that your changes are ready for review.\n\nAfter you submit your request, the GitHub project owner can go to the project's page and click on the \"Pull Requests\" tab.\nThis page will display a list of pull requests from which the owner can select your request.\nOnce on the Pull Request page, the owner will see a button that says \"Merge pull request\" (similar to the image below).\n\n![Edit a pull request](https://docs.github.com/assets/images/help/pull_requests/merge_box/pr-reviews-in-merge-box.png){width=\"77%\" height=\"77%\"}\n\nOnce the owner clicks on the green button, he will be asked again if he wants to make the change.\nWhen he clicks the button again, the change is merged with the main branch and he sees something like the following picture....\n\n![Merge a verified pull request](https://uoftcoders.github.io/rcourse/image/git_lesson/delete_branch.png){width=\"100%\" height=\"100%\"}\n\n### Updating a repository in a branch (or fork)\n\nWhen someone in your group makes a change to the master repo, there is a way to update your branch so you can see the changes.\nWhen a change is made, the branched repo web page will show that your repo is \"1 commit behind the master\".\nThis means that there is 1 change between your fork and the main repository.\n\nIf you want to update your fork, click on the \"Changes\" button.\nYou will then be taken to a page that says \"main is up to date with all commits from branch. Try changing the base\".\nClick on \"Change base\".\nIt will then show if the branch can be merged.\nIf so, click on `Create pull request' (title and comment for your request) and create a pull request.\n\nNow click on 'Merge pull request', then on 'Confirm merge' and your branch will be updated!\n\n### Good to know\n\n::: {.box .ok}\n- Learn how to create branches using the terminal: [Working with Branches](https://thenewstack.io/dont-mess-with-the-master-working-with-branches-in-git-and-github/)\n- Learn how to use pull requests and issues: [Issues and Pull Requests](https://docs.github.com/en/free-pro-team@latest/github/collaborating-with-issues-and-pull-requests/about-branches)\n- Learn how to fork a GitHub repository: [forking a repository](https://docs.github.com/en/free-pro-team@latest/github/getting-started-with-github/fork-a-repo)\n:::\n\n### Self-check\n\n::: { .scbox }\n[![](../images/git-1-self.png)](http://137.248.191.201:3838/de/git/#section-github---fork-und-branch)\n:::\n\n## Dealing with conflicts\n\n### Learning objectives\n\nIn this lesson you will learn\n\n- How to deal with conflicts that arise when working with GitHub.\n- How to deal with merge conflicts in GitHub.\n\n### Prerequisites\n\n- Familiarity with GitHub.\n- Have Git installed.\n- Have a GitHub account.\n\n### Version conflict - what is it?\n\nVersion conflicts usually occur when different versions of the same file are pushed to the main repository at the same time and the prioritisation of the files is not clear, ie:\n\n- when updating one's personal GitHub repository (no pull before push).\n- when several people are working on the same file at the same time\n\n### Push & Pull conflicts\n\nA typical scenario is that you edit something online on GitHub and don't sync that change to Rstudio at the same time or later.\nThe conflict could be, for example\nyou fix a typo in the README and forget to update the current version in the Rstudio project.\n\n\nA more complicated case is when a change has been made in the master repository and someone else in their branch/fork repository has also made a change to the same file/content.\nthe same content.\nWhen a pull request is made, GitHub will notice the difference.\nAgain, it may be something as simple as two people updating the README in different ways, causing GitHub to report a problem.\n\nIn this case, you have to manually decide which variant takes precedence.\n\nIf you make a change to your GitHub repository and there is a conflict, R will show you that your version is ahead of the master repository when you commit your change.\nIf you see this, it means there is a difference between the files.\nIf you try to commit and there is a problem, GitHub will tell you something like\n\n::: warning\nUpdates were rejected because the remote repository contains work that you don't have locally.\nThis is usually caused by another repository pushing to the same reference.\n:::\n\nWhen this message appears, GitHub recommends that you do a pull from your master repository to find the error.\nOften you will get the error message\n\n::: warning\nCONFLICT (content): Conflict merging into \\[file\\].\nAutomatic merge failed; resolve conflicts and then commit the result.\n:::\n\nThe file with the problem is then opened in your RStudio and shows the error found.\nIt shows what changes have been made and what differences there are to the main branch (the changes are shown under '<<<<<<< HEAD', the contents of the main branch are shown underneath).\nYou need to fix the bug between the two versions, either by keeping what GitHub already has, or by tweaking your change to match what you wanted to do.\nWhen you are happy with your change, open the terminal (located in R, a tab above the console).\nIn the terminal, type `git add [filename]`, press Enter and go back to the Git tab at the top right of the RStudio window.\nSelect the file where the error occurred and overwrite it to fix the error.\n\n### Merge conflicts\n\nIf multiple people are working on the same GitHub repository or you are only using one branch, there is a chance that a **merge conflict** will occur.\nMerge conflicts occur when changes are made to the main repository and to a branch that do not match.\nOnce a pull request is made, the repository owner must manually review the changes, they cannot then be merged automatically.\n\nConsequently, GitHub will tell you that it cannot automatically merge the versions, but it will still allow you to make the pull request.\nIf you decide to send the pull request, the repo owner will not be able to click the green `merge` button, but will see a message saying:\n\n:: warning\nThis branch has conflicts that need to be resolved.\n:::\n\nTo the right of this message is the `Resolve Conflicts` button.\n\nWhen you click on the 'Resolve conflicts' button, you will be taken to a page that looks similar to push or pull errors.\nYou will see the suggested changes from the branch and main repository.\nAt this point, changes can then be made and finally successfully deployed for a merge with `Mark as Resolved` and then `Confirm Merge`.\nFinally, the owner must click `Merge Pull Request` and then `Commit Merge` to make the change in the master repository.\n\n### Good to know\n\n::: {.box .ok }\n\n- **Always** `pull` before `push`, otherwise GitHub will have two different changes stored and won't know which one to use.\n\n- For more information about [handling conflicts](https://docs.github.com/en/free-pro-team@latest/github/collaborating-with-issues-and-pull-requests/addressing-merge-conflicts) in GitHub, see the GitHub Docs.\n\n:::\n\n### Self-check\n\n::: { .scbox }\n[![](../images/git-1-self.png)](http://137.248.191.201:3838/de/git/#section-github---konflikte-l%C3%B6sen)\n:::\n\n## RStudio - All Inclusive\n\n### Learning objectives\n\n- Using GitHub directly from RStudio\n\n### Prerequisites\n\n- Practice in working with GitHub and git\n\n### Integrating an existing GitHub repo into R\n\nBefore working with a GitHub repository in RStudio, make sure you have a GitHub repository to work with.\n\nAfter you have created the repository, you can click the green button to get a link to clone the repository.\nTo open it in R, open R and click on the cube with the plus sign to create a new project, click on version control and then on Git.\nNow paste the URL you copied earlier and create the project.\nNow you have a project in R that is connected to GitHub.\nNow you can create new files and upload them to GitHub for others to see.\n\n### Explanation of the buttons/commands\n\nOn the top right (depending on the configuration of RStudio) you will find the tabs `Environment`, `History...` Select the tab `Git` to see the Git commands.\nIn this section you can decide which files to upload/delete, which changes to apply, which files to pull from the master repository, which files to push to the master repository.\nThe changes made are checked here and branches can be created or changed.\nLet's now look at what the individual commands/buttons do.\n\n- Diff` If you click on Diff, a new window opens in R.\n    This window shows all the files that have changed (compared to the main repository) and also the changes you have made.\n    You can also use this window to commit the changes and move them out of the main repository.\n\n- Commit` Using Commit in the smaller window is similar to using it in the Diff window, you just need to select the files you want to commit to the repository and then commit the changes.\n\n- `Pull` Pull is pretty self-explanatory, it pulls files from the GitHub repository.\n    It is important to pull files before pushing to avoid possible conflicts with overlapping files.\n\n- `Push` pushes the files into the GitHub repository.\n    This feature is used when you have finished making changes to your files and are ready to upload them so others can view the new files.\n    The order for uploading these files would be: commit changes, pull from the repository and then push to the repository.\n\n- `History` The next icon is a small clock that represents the history of your work.\n    It shows the previous commits and what was changed in each commit.\n\n- Revert, Ignore and Shell' These commands can be found in a dropdown menu after clicking on the gear next to the clock.\n    With Revert you can undo all changes, with Ignore you can set up a gitignore (useful to block files you don't want to upload) and with Shell you can open your terminal and execute git commands there.\n\n- Branches' The next icon stands for branches.\n    When you click on this icon, you will be asked if you want to create a new branch.\n    As you learned in the Branches module of the Toolkit, branches are useful for testing changes without affecting the main branch in case an error occurs.\n    You can use the drop-down menu to the right of the branch icon to switch between branches.\n\n- `Terminal (optional)` You can run these GitHub commands with the RStudio commands, but you can also use the terminal in R to do the same.\n    All GitHub commands are in the form \"git \\_\\_\\_\\_\\_\" and you can find them by typing \"git\" into your terminal.\n    This does the same as the R panel, but if you are more familiar with writing git commands in a terminal, it may work better for you.\n\n#### Turning an R project into a GitHub repository\n\nSometimes you are working on a project in R and you forgot to create a GitHub repository for it.\nIn this case, the package `usethis` can help you create a repo from within RStudio.\nWith the function `usethis::use_git` the current project can be converted into a GitHub repo so that the files can be uploaded.\n- If you run this function for the first time, you will probably get an error, as you need a token from GitHub to do this.\nAfter calling `usethis::browse_github_token` a new window will open asking you to log in to your GitHub account.\nAfter logging in, permissions can be set and copied with the token.\nOnce you have copied the token, call `usethis::edit_r_environment()` and save your token as \"GITHUB_PAT=token\".\n\nOnce your token is set and your R is reset, you can use `use_git` and it will ask you if it is OK to commit your files to GitHub.\nIf you answer yes to this question, you will be asked to restart your RStudio window to open the Git window and upload your files.\nAfter restarting RStudio, upload the changed files (if any) using the diff button.\nNow use `usethis::use_github` to send your files to a GitHub repository.\n- `use_github` will ask you if you have an ssh key, which you probably don't, so choose `https`.\nThen you will be asked if the title and description are acceptable.\nIf so, you can answer yes and upload the file to GitHub!\n\n### Good to know\n\n::: {.successbox }\nFor more information on using GitHub in RStudio, see the following link:\n\n- The blog entry [GitHub & Rstudio](https://resources.github.com/whitepapers/github-and-rstudio/) shows how to use Git in RStudio and goes into particular detail about the terminal commands.\n\n<iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/kL6L2MNqPHg\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\" allowfullscreen>\n\n</iframe>\n:::\n\n### Self-check\n\n::: { .scbox }\n[![](../images/git-3-self.png)](http://137.248.191.201:3838/de/git/#section-github---workflow-in-rstudio)\n:::\n\n## Acknowledgements\n\nThe tutorial is based on the [DoSStoolkit](https://dosstoolkit.com/).\nespecially using the module [Git outta here](https://dosstoolkit.com/#git-outta-here) by [Mariam Walaa & Matthew Wankiewicz](https://dosstoolkit.com/#contributors). The translations and modifications as well as some of the graphics are by the author of this page.\n\nThe original module can be called with the following R command.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlearnr::run_tutorial(\"git_outta_here\", package = \"DoSStoolkit\") \n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}